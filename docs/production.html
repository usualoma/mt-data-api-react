<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="theme-color" content="#000000" />

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />

    <title>Production - MT Data API React</title>
  </head>
  <body style="padding-top: 5em">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="./playground.html">MT Data API React</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarsExampleDefault"
        aria-controls="navbarsExampleDefault"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="./playground.html">Payground</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./development.html">Development</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="./production.html"
              >Production <span class="sr-only">(current)</span></a
            >
          </li>
        </ul>
      </div>
    </nav>

    <main role="main" class="container">
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label for="data-api-url" class="col-auto col-form-label"
              >Blog endpoint</label
            >
            <div class="col">
              <input
                type="text"
                class="form-control"
                id="data-api-url"
                placeholder="e.g. https://example.movabletype.io/.data-api/v4/sites/12345"
                value="https://blog-taaas-jp.movabletype.io/.data-api/v4/sites/65712"
              />
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <h5>1. Make MTML template.</h5>

          <p>Make MTML template at development environemnt.</p>

          <h5>2. Download template file as JS.</h5>

          <p>
            Download compiled template file at
            <a href="./playground.html">playground</a>.
          </p>

          <h5>3. Embed JS to your production environment.</h5>

          <p>
            Install the downloaded file to your production environment as
            follows.
          </p>

          <textarea
            style="height: 300px; scroll-y: auto"
            wrap="off"
            class="form-control"
            readonly
          >
<script src="./mtDataApiTemplate_20190217064451.js"></script>
<script
  src="https://cdn.jsdelivr.net/gh/usualoma/mt-data-api-react@v0.1.0/dist/main.js"
  integrity="sha384-a4DL0/dD5LPHbKux1gUl64sTzDGT2vlLut+VIRtUsYkeX0+9AqXDXAQ6wavp6E0I"
  crossorigin="anonymous"
  async defer
></script>
<div
  data-mt-data-api-url="https://blog-taaas-jp.movabletype.io/.data-api/v4/sites/61139"
  data-mt-data-api-template="mtDataApiTemplate_20190217064451"
></div></textarea
          >
        </div>

        <div class="col-md-6">
          <script src="./mtDataApiTemplate_20190217064451.js?hash=v0.1.0"></script>
          <div
            data-mt-data-api-template="mtDataApiTemplate_20190217064451"
          ></div>
        </div>
      </div>
    </main>

    <script src="../dist/main.js?hash=v0.1.0"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@16/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"
    ></script>
    <script>
      var targetEl = document.querySelector("[data-mt-data-api-template]");
      var dataApiUrlEl = document.getElementById("data-api-url");
      dataApiUrlEl.addEventListener("change", function(ev) {
        ReactDOM.unmountComponentAtNode(targetEl);
        targetEl.setAttribute("data-mt-data-api-url", dataApiUrlEl.value);
      });
      targetEl.setAttribute("data-mt-data-api-url", dataApiUrlEl.value);
    </script>
  </body>
</html>
